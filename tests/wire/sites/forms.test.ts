// This file was auto-generated by Fern from our API Definition.

import * as Webflow from "../../../src/api/index";
import { WebflowClient } from "../../../src/Client";
import { mockServerPool } from "../../mock-server/MockServerPool";

describe("Forms", () => {
    test("list-submissions-by-site (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            formSubmissions: [
                {
                    id: "6321ca84df3949bfc6752327",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: "2022-09-14T12:35:16Z",
                    formResponse: { "First Name": "Arthur", "Last Name": "Dent" },
                },
                {
                    id: "660d64fabf6e0a0d4edab981",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: "2022-09-14T12:35:16Z",
                    formResponse: { "First Name": "Ford", "Last Name": "Prefect" },
                },
            ],
            pagination: { limit: 25, offset: 0, total: 2 },
        };
        server
            .mockEndpoint()
            .get("/sites/580e63e98c9a982ac9b8b741/form_submissions")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.sites.forms.listSubmissionsBySite("580e63e98c9a982ac9b8b741", {
            elementId: "18259716-3e5a-646a-5f41-5dc4b9405aa0",
            offset: 1.1,
            limit: 1.1,
        });
        expect(response).toEqual({
            formSubmissions: [
                {
                    id: "6321ca84df3949bfc6752327",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: new Date("2022-09-14T12:35:16.000Z"),
                    formResponse: {
                        "First Name": "Arthur",
                        "Last Name": "Dent",
                    },
                },
                {
                    id: "660d64fabf6e0a0d4edab981",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: new Date("2022-09-14T12:35:16.000Z"),
                    formResponse: {
                        "First Name": "Ford",
                        "Last Name": "Prefect",
                    },
                },
            ],
            pagination: {
                limit: 25,
                offset: 0,
                total: 2,
            },
        });
    });

    test("list-submissions-by-site (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissionsBySite("site_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("list-submissions-by-site (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissionsBySite("site_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("list-submissions-by-site (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissionsBySite("site_id");
        }).rejects.toThrow(Webflow.ForbiddenError);
    });

    test("list-submissions-by-site (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissionsBySite("site_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("list-submissions-by-site (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissionsBySite("site_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("list-submissions-by-site (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissionsBySite("site_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("list-submissions (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            formSubmissions: [
                {
                    id: "6321ca84df3949bfc6752327",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: "2022-09-14T12:35:16Z",
                    formResponse: { "First Name": "Arthur", "Last Name": "Dent" },
                },
                {
                    id: "660d64fabf6e0a0d4edab981",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: "2022-09-14T12:35:16Z",
                    formResponse: { "First Name": "Ford", "Last Name": "Prefect" },
                },
            ],
            pagination: { limit: 25, offset: 0, total: 2 },
        };
        server
            .mockEndpoint()
            .get("/sites/580e63e98c9a982ac9b8b741/forms/580e63e98c9a982ac9b8b741/submissions")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.sites.forms.listSubmissions(
            "580e63e98c9a982ac9b8b741",
            "580e63e98c9a982ac9b8b741",
            {
                offset: 1.1,
                limit: 1.1,
            },
        );
        expect(response).toEqual({
            formSubmissions: [
                {
                    id: "6321ca84df3949bfc6752327",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: new Date("2022-09-14T12:35:16.000Z"),
                    formResponse: {
                        "First Name": "Arthur",
                        "Last Name": "Dent",
                    },
                },
                {
                    id: "660d64fabf6e0a0d4edab981",
                    displayName: "Sample Form",
                    siteId: "62749158efef318abc8d5a0f",
                    workspaceId: "62749158efef318abc8d5a0f",
                    dateSubmitted: new Date("2022-09-14T12:35:16.000Z"),
                    formResponse: {
                        "First Name": "Ford",
                        "Last Name": "Prefect",
                    },
                },
            ],
            pagination: {
                limit: 25,
                offset: 0,
                total: 2,
            },
        });
    });

    test("list-submissions (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/forms/form_id/submissions")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissions("site_id", "form_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("list-submissions (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/forms/form_id/submissions")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissions("site_id", "form_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("list-submissions (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/forms/form_id/submissions")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissions("site_id", "form_id");
        }).rejects.toThrow(Webflow.ForbiddenError);
    });

    test("list-submissions (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/forms/form_id/submissions")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissions("site_id", "form_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("list-submissions (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/forms/form_id/submissions")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissions("site_id", "form_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("list-submissions (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/forms/form_id/submissions")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.listSubmissions("site_id", "form_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("get-submission (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            id: "6321ca84df3949bfc6752327",
            displayName: "Sample Form",
            siteId: "62749158efef318abc8d5a0f",
            workspaceId: "62749158efef318abc8d5a0f",
            dateSubmitted: "2022-09-14T12:35:16Z",
            formResponse: { "First Name": "Arthur", "Last Name": "Dent" },
        };
        server
            .mockEndpoint()
            .get("/sites/580e63e98c9a982ac9b8b741/form_submissions/580e63e98c9a982ac9b8b741")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.sites.forms.getSubmission("580e63e98c9a982ac9b8b741", "580e63e98c9a982ac9b8b741");
        expect(response).toEqual({
            id: "6321ca84df3949bfc6752327",
            displayName: "Sample Form",
            siteId: "62749158efef318abc8d5a0f",
            workspaceId: "62749158efef318abc8d5a0f",
            dateSubmitted: new Date("2022-09-14T12:35:16.000Z"),
            formResponse: {
                "First Name": "Arthur",
                "Last Name": "Dent",
            },
        });
    });

    test("get-submission (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.getSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("get-submission (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.getSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("get-submission (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.getSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.ForbiddenError);
    });

    test("get-submission (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.getSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("get-submission (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.getSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("get-submission (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.getSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("delete-submission (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        server
            .mockEndpoint()
            .delete("/sites/580e63e98c9a982ac9b8b741/form_submissions/580e63e98c9a982ac9b8b741")
            .respondWith()
            .statusCode(200)
            .build();

        const response = await client.sites.forms.deleteSubmission(
            "580e63e98c9a982ac9b8b741",
            "580e63e98c9a982ac9b8b741",
        );
        expect(response).toEqual(undefined);
    });

    test("delete-submission (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("delete-submission (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("delete-submission (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.ForbiddenError);
    });

    test("delete-submission (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("delete-submission (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(409)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.ConflictError);
    });

    test("delete-submission (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("delete-submission (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/sites/site_id/form_submissions/form_submission_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.deleteSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("update-submission (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {
            id: "6321ca84df3949bfc6752327",
            displayName: "Sample Form",
            siteId: "62749158efef318abc8d5a0f",
            workspaceId: "62749158efef318abc8d5a0f",
            dateSubmitted: "2022-09-14T12:35:16Z",
            formResponse: { "First Name": "Arthur", "Last Name": "Dent" },
        };
        server
            .mockEndpoint()
            .patch("/sites/580e63e98c9a982ac9b8b741/form_submissions/580e63e98c9a982ac9b8b741")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.sites.forms.updateSubmission(
            "580e63e98c9a982ac9b8b741",
            "580e63e98c9a982ac9b8b741",
        );
        expect(response).toEqual({
            id: "6321ca84df3949bfc6752327",
            displayName: "Sample Form",
            siteId: "62749158efef318abc8d5a0f",
            workspaceId: "62749158efef318abc8d5a0f",
            dateSubmitted: new Date("2022-09-14T12:35:16.000Z"),
            formResponse: {
                "First Name": "Arthur",
                "Last Name": "Dent",
            },
        });
    });

    test("update-submission (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("update-submission (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("update-submission (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.ForbiddenError);
    });

    test("update-submission (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("update-submission (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(409)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.ConflictError);
    });

    test("update-submission (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("update-submission (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/sites/site_id/form_submissions/form_submission_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.sites.forms.updateSubmission("site_id", "form_submission_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });
});
