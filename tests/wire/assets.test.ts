// This file was auto-generated by Fern from our API Definition.

import * as Webflow from "../../src/api/index";
import { WebflowClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("Assets", () => {
    test("list (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            assets: [
                {
                    id: "63e5889e7fe4eafa7384cea4",
                    contentType: "image/png",
                    size: 2212772,
                    siteId: "63938b302ea6b0aa6f3d8745",
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
                    originalFileName: "Candy-Wrapper.svg",
                    displayName: "63e5889e7fe4eafa7384cea4_Candy-Wrapper.png",
                    lastUpdated: "2023-03-01T23:42:57Z",
                    createdOn: "2023-02-09T23:58:22Z",
                    variants: [
                        {
                            hostedUrl:
                                "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            displayName:
                                "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            format: "png",
                            width: 500,
                            height: 900,
                            quality: 100,
                        },
                    ],
                    altText: "A single candy wrapper",
                },
                {
                    id: "63e5889e7fe4eafa7384cea5",
                    contentType: "image/png",
                    size: 2212772,
                    siteId: "63938b302ea6b0aa6f3d8745",
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
                    originalFileName: "Gum-Wrapper.svg",
                    displayName: "63e5889e7fe4eafa7384cea5_Gum-Wrapper.png",
                    lastUpdated: "2023-03-01T23:42:57Z",
                    createdOn: "2023-02-09T23:58:22Z",
                    variants: [
                        {
                            hostedUrl:
                                "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            displayName:
                                "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            format: "png",
                            width: 500,
                            height: 900,
                            quality: 100,
                        },
                    ],
                    altText: "A single gum wrapper",
                },
            ],
            pagination: { limit: 2, offset: 0, total: 2 },
        };
        server
            .mockEndpoint()
            .get("/sites/580e63e98c9a982ac9b8b741/assets")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.list("580e63e98c9a982ac9b8b741", {
            offset: 1.1,
            limit: 1.1,
        });
        expect(response).toEqual({
            assets: [
                {
                    id: "63e5889e7fe4eafa7384cea4",
                    contentType: "image/png",
                    size: 2212772,
                    siteId: "63938b302ea6b0aa6f3d8745",
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
                    originalFileName: "Candy-Wrapper.svg",
                    displayName: "63e5889e7fe4eafa7384cea4_Candy-Wrapper.png",
                    lastUpdated: new Date("2023-03-01T23:42:57.000Z"),
                    createdOn: new Date("2023-02-09T23:58:22.000Z"),
                    variants: [
                        {
                            hostedUrl:
                                "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            displayName:
                                "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            format: "png",
                            width: 500,
                            height: 900,
                            quality: 100,
                        },
                    ],
                    altText: "A single candy wrapper",
                },
                {
                    id: "63e5889e7fe4eafa7384cea5",
                    contentType: "image/png",
                    size: 2212772,
                    siteId: "63938b302ea6b0aa6f3d8745",
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
                    originalFileName: "Gum-Wrapper.svg",
                    displayName: "63e5889e7fe4eafa7384cea5_Gum-Wrapper.png",
                    lastUpdated: new Date("2023-03-01T23:42:57.000Z"),
                    createdOn: new Date("2023-02-09T23:58:22.000Z"),
                    variants: [
                        {
                            hostedUrl:
                                "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            displayName:
                                "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                            format: "png",
                            width: 500,
                            height: 900,
                            quality: 100,
                        },
                    ],
                    altText: "A single gum wrapper",
                },
            ],
            pagination: {
                limit: 2,
                offset: 0,
                total: 2,
            },
        });
    });

    test("list (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/assets")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.list("site_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("list (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/assets")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.list("site_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("list (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/assets")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.list("site_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("list (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/assets")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.list("site_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("list (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/assets")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.list("site_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("create (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { fileName: "file.png", fileHash: "3c7d87c9575702bc3b1e991f4d3c638e" };
        const rawResponseBody = {
            uploadDetails: {
                acl: "public-read",
                bucket: "webflow-bucket-name",
                "X-Amz-Algorithm": "AWS4-HMAC-SHA256",
                "X-Amz-Credential": "<credential-key>/<date>/<region-zone>/s3/aws4_request",
                "X-Amz-Date": "<date-in-iso-like-string>",
                key: "<siteId>/<fileId>_<filename-with-extension>",
                Policy: "<a-very-long-alphanumeric-token-with-equal-sign-at-the-end>",
                "X-Amz-Signature": "<one-line-ling-alphanumeric-signature>",
                success_action_status: "201",
                "content-type": "image/png",
                "Cache-Control": "max-age=31536000, must-revalidate",
            },
            contentType: "image/png",
            id: "64358b9544249dc43d37d2b7",
            parentFolder: "6436b1ce5281cace05b65aea",
            uploadUrl:
                "https://s3.amazonaws.com/webflow-dev-assets/643021114e290e0d3a0602b2/64358b9544249dc43d37d2b7_Screenshot%202023-04-11%20at%209.50.42%20AM.png",
            assetUrl:
                "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d907ab9e91e3e9f56385e_paranoidAndroid-2024.png",
            hostedUrl:
                "https://dev-assets.website-files.com/643021114e290e0d3a0602b2/64358b9544249dc43d37d2b7_Screenshot%202023-04-11%20at%209.50.42%20AM.png",
            originalFileName: "file.png",
            createdOn: "2023-04-11T16:32:21Z",
            lastUpdated: "2023-04-12T20:31:03Z",
        };
        server
            .mockEndpoint()
            .post("/sites/580e63e98c9a982ac9b8b741/assets")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.create("580e63e98c9a982ac9b8b741", {
            fileName: "file.png",
            fileHash: "3c7d87c9575702bc3b1e991f4d3c638e",
        });
        expect(response).toEqual({
            uploadDetails: {
                acl: "public-read",
                bucket: "webflow-bucket-name",
                xAmzAlgorithm: "AWS4-HMAC-SHA256",
                xAmzCredential: "<credential-key>/<date>/<region-zone>/s3/aws4_request",
                xAmzDate: "<date-in-iso-like-string>",
                key: "<siteId>/<fileId>_<filename-with-extension>",
                policy: "<a-very-long-alphanumeric-token-with-equal-sign-at-the-end>",
                xAmzSignature: "<one-line-ling-alphanumeric-signature>",
                successActionStatus: "201",
                contentType: "image/png",
                cacheControl: "max-age=31536000, must-revalidate",
            },
            contentType: "image/png",
            id: "64358b9544249dc43d37d2b7",
            parentFolder: "6436b1ce5281cace05b65aea",
            uploadUrl:
                "https://s3.amazonaws.com/webflow-dev-assets/643021114e290e0d3a0602b2/64358b9544249dc43d37d2b7_Screenshot%202023-04-11%20at%209.50.42%20AM.png",
            assetUrl:
                "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d907ab9e91e3e9f56385e_paranoidAndroid-2024.png",
            hostedUrl:
                "https://dev-assets.website-files.com/643021114e290e0d3a0602b2/64358b9544249dc43d37d2b7_Screenshot%202023-04-11%20at%209.50.42%20AM.png",
            originalFileName: "file.png",
            createdOn: new Date("2023-04-11T16:32:21.000Z"),
            lastUpdated: new Date("2023-04-12T20:31:03.000Z"),
        });
    });

    test("create (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { fileName: "fileName", fileHash: "fileHash" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/sites/site_id/assets")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.create("site_id", {
                fileName: "fileName",
                fileHash: "fileHash",
            });
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("create (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { fileName: "fileName", fileHash: "fileHash" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/assets")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.create("site_id", {
                fileName: "fileName",
                fileHash: "fileHash",
            });
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("create (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { fileName: "fileName", fileHash: "fileHash" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/assets")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.create("site_id", {
                fileName: "fileName",
                fileHash: "fileHash",
            });
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("create (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { fileName: "fileName", fileHash: "fileHash" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/assets")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.create("site_id", {
                fileName: "fileName",
                fileHash: "fileHash",
            });
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("create (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { fileName: "fileName", fileHash: "fileHash" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/assets")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.create("site_id", {
                fileName: "fileName",
                fileHash: "fileHash",
            });
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("get (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            id: "63e5889e7fe4eafa7384cea4",
            contentType: "image/png",
            size: 2212772,
            siteId: "63938b302ea6b0aa6f3d8745",
            hostedUrl:
                "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
            originalFileName: "Candy-Wrapper.svg",
            displayName: "63e5889e7fe4eafa7384cea4_Candy-Wrapper.png",
            lastUpdated: "2023-03-01T23:42:57Z",
            createdOn: "2023-02-09T23:58:22Z",
            variants: [
                {
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    displayName: "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    format: "png",
                    width: 500,
                    height: 900,
                    quality: 100,
                    error: "error",
                },
            ],
            altText: "A single candy wrapper",
        };
        server
            .mockEndpoint()
            .get("/assets/580e63fc8c9a982ac9b8b745")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.get("580e63fc8c9a982ac9b8b745");
        expect(response).toEqual({
            id: "63e5889e7fe4eafa7384cea4",
            contentType: "image/png",
            size: 2212772,
            siteId: "63938b302ea6b0aa6f3d8745",
            hostedUrl:
                "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
            originalFileName: "Candy-Wrapper.svg",
            displayName: "63e5889e7fe4eafa7384cea4_Candy-Wrapper.png",
            lastUpdated: new Date("2023-03-01T23:42:57.000Z"),
            createdOn: new Date("2023-02-09T23:58:22.000Z"),
            variants: [
                {
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    displayName: "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    format: "png",
                    width: 500,
                    height: 900,
                    quality: 100,
                    error: "error",
                },
            ],
            altText: "A single candy wrapper",
        });
    });

    test("get (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/assets/asset_id").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.assets.get("asset_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("get (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server.mockEndpoint().get("/assets/asset_id").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.assets.get("asset_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("get (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server.mockEndpoint().get("/assets/asset_id").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.assets.get("asset_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("get (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server.mockEndpoint().get("/assets/asset_id").respondWith().statusCode(429).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.assets.get("asset_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("get (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server.mockEndpoint().get("/assets/asset_id").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.assets.get("asset_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("delete (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        server.mockEndpoint().delete("/assets/580e63fc8c9a982ac9b8b745").respondWith().statusCode(200).build();

        const response = await client.assets.delete("580e63fc8c9a982ac9b8b745");
        expect(response).toEqual(undefined);
    });

    test("delete (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/assets/asset_id")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.delete("asset_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("delete (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/assets/asset_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.delete("asset_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("delete (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/assets/asset_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.delete("asset_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("delete (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/assets/asset_id")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.delete("asset_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("delete (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .delete("/assets/asset_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.delete("asset_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("update (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {
            id: "63e5889e7fe4eafa7384cea4",
            contentType: "image/png",
            size: 2212772,
            siteId: "63938b302ea6b0aa6f3d8745",
            hostedUrl:
                "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
            originalFileName: "Candy-Wrapper.svg",
            displayName: "63e5889e7fe4eafa7384cea4_Candy-Wrapper.png",
            lastUpdated: "2023-03-01T23:42:57Z",
            createdOn: "2023-02-09T23:58:22Z",
            variants: [
                {
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    displayName: "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    format: "png",
                    width: 500,
                    height: 900,
                    quality: 100,
                    error: "error",
                },
            ],
            altText: "A single candy wrapper",
        };
        server
            .mockEndpoint()
            .patch("/assets/580e63fc8c9a982ac9b8b745")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.update("580e63fc8c9a982ac9b8b745");
        expect(response).toEqual({
            id: "63e5889e7fe4eafa7384cea4",
            contentType: "image/png",
            size: 2212772,
            siteId: "63938b302ea6b0aa6f3d8745",
            hostedUrl:
                "https://s3.amazonaws.com/webflow-prod-assets/63938b302ea6b0aa6f3d8745/63e5889e7fe4eafa7384cea4_Vectors-Wrapper.svg",
            originalFileName: "Candy-Wrapper.svg",
            displayName: "63e5889e7fe4eafa7384cea4_Candy-Wrapper.png",
            lastUpdated: new Date("2023-03-01T23:42:57.000Z"),
            createdOn: new Date("2023-02-09T23:58:22.000Z"),
            variants: [
                {
                    hostedUrl:
                        "https://s3.amazonaws.com/webflow-prod-assets/6258612d1ee792848f805dcf/660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    originalFileName: "Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    displayName: "660d83ce30f3a599ddb0bdb3_Screenshot%202024-03-20%20at%209.03.24%E2%80%AFPM-p-500.png",
                    format: "png",
                    width: 500,
                    height: 900,
                    quality: 100,
                    error: "error",
                },
            ],
            altText: "A single candy wrapper",
        });
    });

    test("update (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .patch("/assets/asset_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.update("asset_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("update (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/assets/asset_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.update("asset_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("update (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/assets/asset_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.update("asset_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("update (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/assets/asset_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.update("asset_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("update (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = {};
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .patch("/assets/asset_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.update("asset_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("list-folders (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            assetFolders: [
                {
                    id: "6390c49774a71f0e3c1a08ee",
                    displayName: "emoji icons",
                    parentFolder: "6390c49774a71f99f21a08eb",
                    assets: ["63e5889e7fe4eafa7384cea4", "659595234426a9fcbad57043"],
                    siteId: "6390c49674a71f84b51a08d8",
                    createdOn: "2018-10-14T21:55:49Z",
                    lastUpdated: "2022-12-07T16:51:37Z",
                },
            ],
            pagination: { limit: 1, offset: 0, total: 1 },
        };
        server
            .mockEndpoint()
            .get("/sites/580e63e98c9a982ac9b8b741/asset_folders")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.listFolders("580e63e98c9a982ac9b8b741");
        expect(response).toEqual({
            assetFolders: [
                {
                    id: "6390c49774a71f0e3c1a08ee",
                    displayName: "emoji icons",
                    parentFolder: "6390c49774a71f99f21a08eb",
                    assets: ["63e5889e7fe4eafa7384cea4", "659595234426a9fcbad57043"],
                    siteId: "6390c49674a71f84b51a08d8",
                    createdOn: new Date("2018-10-14T21:55:49.000Z"),
                    lastUpdated: new Date("2022-12-07T16:51:37.000Z"),
                },
            ],
            pagination: {
                limit: 1,
                offset: 0,
                total: 1,
            },
        });
    });

    test("list-folders (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/sites/site_id/asset_folders")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.listFolders("site_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("list-folders (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/asset_folders")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.listFolders("site_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("list-folders (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/asset_folders")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.listFolders("site_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("list-folders (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/asset_folders")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.listFolders("site_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("list-folders (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/sites/site_id/asset_folders")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.listFolders("site_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("create-folder (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { displayName: "my asset folder" };
        const rawResponseBody = {
            id: "6390c49774a71f0e3c1a08ee",
            displayName: "emoji icons",
            parentFolder: "6390c49774a71f99f21a08eb",
            assets: ["63e5889e7fe4eafa7384cea4", "659595234426a9fcbad57043"],
            siteId: "6390c49674a71f84b51a08d8",
            createdOn: "2018-10-14T21:55:49Z",
            lastUpdated: "2022-12-07T16:51:37Z",
        };
        server
            .mockEndpoint()
            .post("/sites/580e63e98c9a982ac9b8b741/asset_folders")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.createFolder("580e63e98c9a982ac9b8b741", {
            displayName: "my asset folder",
        });
        expect(response).toEqual({
            id: "6390c49774a71f0e3c1a08ee",
            displayName: "emoji icons",
            parentFolder: "6390c49774a71f99f21a08eb",
            assets: ["63e5889e7fe4eafa7384cea4", "659595234426a9fcbad57043"],
            siteId: "6390c49674a71f84b51a08d8",
            createdOn: new Date("2018-10-14T21:55:49.000Z"),
            lastUpdated: new Date("2022-12-07T16:51:37.000Z"),
        });
    });

    test("create-folder (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { displayName: "displayName" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/sites/site_id/asset_folders")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.createFolder("site_id", {
                displayName: "displayName",
            });
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("create-folder (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { displayName: "displayName" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/asset_folders")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.createFolder("site_id", {
                displayName: "displayName",
            });
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("create-folder (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { displayName: "displayName" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/asset_folders")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.createFolder("site_id", {
                displayName: "displayName",
            });
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("create-folder (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { displayName: "displayName" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/asset_folders")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.createFolder("site_id", {
                displayName: "displayName",
            });
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("create-folder (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });
        const rawRequestBody = { displayName: "displayName" };
        const rawResponseBody = {};
        server
            .mockEndpoint()
            .post("/sites/site_id/asset_folders")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.createFolder("site_id", {
                displayName: "displayName",
            });
        }).rejects.toThrow(Webflow.InternalServerError);
    });

    test("get-folder (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {
            id: "6390c49774a71f0e3c1a08ee",
            displayName: "emoji icons",
            parentFolder: "6390c49774a71f99f21a08eb",
            assets: ["63e5889e7fe4eafa7384cea4", "659595234426a9fcbad57043"],
            siteId: "6390c49674a71f84b51a08d8",
            createdOn: "2018-10-14T21:55:49Z",
            lastUpdated: "2022-12-07T16:51:37Z",
        };
        server
            .mockEndpoint()
            .get("/asset_folders/6390c49774a71f0e3c1a08ee")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.assets.getFolder("6390c49774a71f0e3c1a08ee");
        expect(response).toEqual({
            id: "6390c49774a71f0e3c1a08ee",
            displayName: "emoji icons",
            parentFolder: "6390c49774a71f99f21a08eb",
            assets: ["63e5889e7fe4eafa7384cea4", "659595234426a9fcbad57043"],
            siteId: "6390c49674a71f84b51a08d8",
            createdOn: new Date("2018-10-14T21:55:49.000Z"),
            lastUpdated: new Date("2022-12-07T16:51:37.000Z"),
        });
    });

    test("get-folder (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/asset_folders/asset_folder_id")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.getFolder("asset_folder_id");
        }).rejects.toThrow(Webflow.BadRequestError);
    });

    test("get-folder (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/asset_folders/asset_folder_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.getFolder("asset_folder_id");
        }).rejects.toThrow(Webflow.UnauthorizedError);
    });

    test("get-folder (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/asset_folders/asset_folder_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.getFolder("asset_folder_id");
        }).rejects.toThrow(Webflow.NotFoundError);
    });

    test("get-folder (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/asset_folders/asset_folder_id")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.getFolder("asset_folder_id");
        }).rejects.toThrow(Webflow.TooManyRequestsError);
    });

    test("get-folder (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new WebflowClient({
            accessToken: "test",
            environment: { base: server.baseUrl, dataApi: server.baseUrl, contentDeliveryApi: server.baseUrl },
        });

        const rawResponseBody = {};
        server
            .mockEndpoint()
            .get("/asset_folders/asset_folder_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.assets.getFolder("asset_folder_id");
        }).rejects.toThrow(Webflow.InternalServerError);
    });
});
