/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as environments from "./environments";
import * as core from "./core";
import { mergeHeaders } from "./core/headers.js";
import { Token } from "./api/resources/token/client/Client";
import { Sites } from "./api/resources/sites/client/Client";
import { Collections } from "./api/resources/collections/client/Client";
import { Pages } from "./api/resources/pages/client/Client";
import { Components } from "./api/resources/components/client/Client";
import { Scripts } from "./api/resources/scripts/client/Client";
import { Assets } from "./api/resources/assets/client/Client";
import { Webhooks } from "./api/resources/webhooks/client/Client";
import { Forms } from "./api/resources/forms/client/Client";
import { Users } from "./api/resources/users/client/Client";
import { AccessGroups } from "./api/resources/accessGroups/client/Client";
import { Products } from "./api/resources/products/client/Client";
import { Orders } from "./api/resources/orders/client/Client";
import { Inventory } from "./api/resources/inventory/client/Client";
import { Ecommerce } from "./api/resources/ecommerce/client/Client";
import { Workspaces } from "./api/resources/workspaces/client/Client";

export declare namespace WebflowClient {
    export interface Options {
        environment?: core.Supplier<environments.WebflowEnvironment | environments.WebflowEnvironmentUrls>;
        /** Specify a custom URL to connect the client to. */
        baseUrl?: core.Supplier<string>;
        accessToken: core.Supplier<core.BearerToken>;
        /** Additional headers to include in requests. */
        headers?: Record<string, string | core.Supplier<string | undefined> | undefined>;
    }

    export interface RequestOptions {
        /** The maximum time to wait for a response in seconds. */
        timeoutInSeconds?: number;
        /** The number of times to retry the request. Defaults to 2. */
        maxRetries?: number;
        /** A hook to abort the request. */
        abortSignal?: AbortSignal;
        /** Additional headers to include in the request. */
        headers?: Record<string, string | core.Supplier<string | undefined> | undefined>;
    }
}

export class WebflowClient {
    protected readonly _options: WebflowClient.Options;
    protected _token: Token | undefined;
    protected _sites: Sites | undefined;
    protected _collections: Collections | undefined;
    protected _pages: Pages | undefined;
    protected _components: Components | undefined;
    protected _scripts: Scripts | undefined;
    protected _assets: Assets | undefined;
    protected _webhooks: Webhooks | undefined;
    protected _forms: Forms | undefined;
    protected _users: Users | undefined;
    protected _accessGroups: AccessGroups | undefined;
    protected _products: Products | undefined;
    protected _orders: Orders | undefined;
    protected _inventory: Inventory | undefined;
    protected _ecommerce: Ecommerce | undefined;
    protected _workspaces: Workspaces | undefined;

    constructor(_options: WebflowClient.Options) {
        this._options = {
            ..._options,
            headers: mergeHeaders(
                {
                    "X-Fern-Language": "JavaScript",
                    "X-Fern-SDK-Name": "webflow-api",
                    "X-Fern-SDK-Version": "3.2.0",
                    "User-Agent": "webflow-api/3.2.0",
                    "X-Fern-Runtime": core.RUNTIME.type,
                    "X-Fern-Runtime-Version": core.RUNTIME.version,
                },
                _options?.headers,
            ),
        };
    }

    public get token(): Token {
        return (this._token ??= new Token(this._options));
    }

    public get sites(): Sites {
        return (this._sites ??= new Sites(this._options));
    }

    public get collections(): Collections {
        return (this._collections ??= new Collections(this._options));
    }

    public get pages(): Pages {
        return (this._pages ??= new Pages(this._options));
    }

    public get components(): Components {
        return (this._components ??= new Components(this._options));
    }

    public get scripts(): Scripts {
        return (this._scripts ??= new Scripts(this._options));
    }

    public get assets(): Assets {
        return (this._assets ??= new Assets(this._options));
    }

    public get webhooks(): Webhooks {
        return (this._webhooks ??= new Webhooks(this._options));
    }

    public get forms(): Forms {
        return (this._forms ??= new Forms(this._options));
    }

    public get users(): Users {
        return (this._users ??= new Users(this._options));
    }

    public get accessGroups(): AccessGroups {
        return (this._accessGroups ??= new AccessGroups(this._options));
    }

    public get products(): Products {
        return (this._products ??= new Products(this._options));
    }

    public get orders(): Orders {
        return (this._orders ??= new Orders(this._options));
    }

    public get inventory(): Inventory {
        return (this._inventory ??= new Inventory(this._options));
    }

    public get ecommerce(): Ecommerce {
        return (this._ecommerce ??= new Ecommerce(this._options));
    }

    public get workspaces(): Workspaces {
        return (this._workspaces ??= new Workspaces(this._options));
    }
}
