/**
 * This file was auto-generated by Fern from our API Definition.
 */

import { WorkspaceAuditLogItemActor } from "./WorkspaceAuditLogItemActor";
import { WorkspaceAuditLogItemWorkspace } from "./WorkspaceAuditLogItemWorkspace";
import * as core from "../../core";
import * as serializers from "../index";
import * as Webflow from "../../api/index";
import { UserAccessAuditLogItem } from "./UserAccessAuditLogItem";
import { CustomRoleAuditLogItem } from "./CustomRoleAuditLogItem";
import { WorkspaceMembershipAuditLogItem } from "./WorkspaceMembershipAuditLogItem";
import { SiteMembershipAuditLogItem } from "./SiteMembershipAuditLogItem";
import { WorkspaceInvitationAuditLogItem } from "./WorkspaceInvitationAuditLogItem";

const _Base = core.serialization.object({
    id: core.serialization.string().optional(),
    timestamp: core.serialization.date().optional(),
    actor: WorkspaceAuditLogItemActor.optional(),
    workspace: WorkspaceAuditLogItemWorkspace.optional(),
});
export const WorkspaceAuditLogItem: core.serialization.Schema<
    serializers.WorkspaceAuditLogItem.Raw,
    Webflow.WorkspaceAuditLogItem
> = core.serialization
    .union("eventType", {
        user_access: UserAccessAuditLogItem.extend(_Base),
        custom_role: CustomRoleAuditLogItem.extend(_Base),
        workspace_membership: WorkspaceMembershipAuditLogItem.extend(_Base),
        site_membership: SiteMembershipAuditLogItem.extend(_Base),
        workspace_invitation: WorkspaceInvitationAuditLogItem.extend(_Base),
    })
    .transform<Webflow.WorkspaceAuditLogItem>({
        transform: (value) => value,
        untransform: (value) => value,
    });

export declare namespace WorkspaceAuditLogItem {
    type Raw =
        | WorkspaceAuditLogItem.UserAccess
        | WorkspaceAuditLogItem.CustomRole
        | WorkspaceAuditLogItem.WorkspaceMembership
        | WorkspaceAuditLogItem.SiteMembership
        | WorkspaceAuditLogItem.WorkspaceInvitation;

    interface UserAccess extends _Base, UserAccessAuditLogItem.Raw {
        eventType: "user_access";
    }

    interface CustomRole extends _Base, CustomRoleAuditLogItem.Raw {
        eventType: "custom_role";
    }

    interface WorkspaceMembership extends _Base, WorkspaceMembershipAuditLogItem.Raw {
        eventType: "workspace_membership";
    }

    interface SiteMembership extends _Base, SiteMembershipAuditLogItem.Raw {
        eventType: "site_membership";
    }

    interface WorkspaceInvitation extends _Base, WorkspaceInvitationAuditLogItem.Raw {
        eventType: "workspace_invitation";
    }

    interface _Base {
        id?: string | null;
        timestamp?: string | null;
        actor?: WorkspaceAuditLogItemActor.Raw | null;
        workspace?: WorkspaceAuditLogItemWorkspace.Raw | null;
    }
}
